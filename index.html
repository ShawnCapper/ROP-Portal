<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ROP Course Offerings</title>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,0..200" />
    <link rel="stylesheet" href="style.css">
    <meta name="color-scheme" content="light dark">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<div class="header-container">
    <div class="header-content">
        <div class="search-box">
            <input type="text" id="searchInput" placeholder="Search course by ID, title, or description...">
        </div>
        <div class="theme-switch">
            <button id="themeToggle" aria-label="Toggle dark mode">
                <span class="material-symbols-rounded">dark_mode</span>
            </button>
        </div>
    </div>
</div>

<div class="info-section">
    <div class="info-content">
        <h1>UofT ROP Courses</h1>
        <p>This (unofficial) portal helps you browse Research Opportunities Program (ROP) course offerings at the University of Toronto. Learn more about the ROP program <a href="https://www.artsci.utoronto.ca/current/experiential-learning/research-opportunities/research-opportunities-program" target="_blank">here</a>.</p>

        <div class="features-container">
            <div class="features-header">
                <h3>Site features (that CLNx doesn't offer)</h3>
                <button class="features-toggle" aria-expanded="false" aria-controls="features-list">
                    <span class="material-symbols-rounded toggle-icon">expand_more</span>
                </button>
            </div>
            <div id="features-list" class="features-list collapsed">
                <ul>
                    <li><strong>AI Summaries:</strong> Get straight to the point like magic (✨)</li>
                    <li><strong>Search & Filter:</strong> Find courses by keyword, department, term, or delivery method</li>
                    <li><strong>Shortlist & Export:</strong> Save and download interesting opportunities (★) for later review</li>
                    <li><strong>No more "Timed Out" errors after 10 minutes of inactivity:</strong> Nor do you need to login and face Duo 2FA</li>
                </ul>
            </div>
        </div>

        <p class="info-note">Applications for ROPs are submitted through <a href="https://clnx.utoronto.ca/" target="_blank">CLNx</a>. This tool is designed only to help you explore and evaluate available opportunities. Site data is not updated live and may be outdated or inaccurate at time of viewing.</p>
    </div>
</div>

<div class="filters">
    <div class="filter-group">
        <label>Department:</label>
        <select id="departmentFilter">
            <option value="">All Departments</option>
        </select>
    </div>
    <div class="filter-group">
        <label>Term:</label>
        <select id="termFilter">
            <option value="">All Terms</option>
        </select>
    </div>
    <div class="filter-group">
        <label>Delivery Mode:</label>
        <select id="deliveryFilter">
            <option value="">All Modes</option>
        </select>
    </div>
    <div class="filter-group">
        <label>
            <input type="checkbox" id="activeOnly">
            Hide expired postings
        </label>
    </div>
    <div class="filter-group">
        <label>
            <input type="checkbox" id="shortlistedOnly">
            Show shortlisted only
        </label>
    </div>
    <div class="filter-group">
        <button id="clearFiltersButton">Clear Filters</button>
    </div>
</div>

<div class="controls-container">
    <div class="expand-control">
        <button id="expandAllButton">Expand All</button>
        <button id="shortlistCountButton" class="shortlist-count" aria-label="View shortlisted courses">
            Shortlisted: <span id="shortlistCount">0</span>
        </button>
        <button id="exportShortlistButton" class="export-button" aria-label="Export shortlisted courses">
            <span class="material-symbols-rounded">download</span> Export
        </button>
    </div>
    <div class="course-count">
        Showing <span id="courseCount">0</span> courses
    </div>
</div>

<div id="courseList"></div>

<template id="courseCardTemplate">
    <div class="course-card">
        <div class="course-header">
            <div class="course-title-row">
                <div class="course-title expandable"></div>
                <div class="button-group">
                    <button class="magic-button" aria-label="Magic action">
                        <span class="material-symbols-rounded">auto_awesome</span>
                    </button>
                    <button class="shortlist-button" aria-label="Shortlist this course">
                        <span class="material-symbols-rounded shortlist-icon">favorite_border</span>
                    </button>
                </div>
            </div>
            <div class="course-dates"></div>
            <div class="course-terms"></div>
            <div class="course-delivery"></div>
        </div>
        <div class="course-details"></div>
    </div>
</template>

<button id="backToTopBtn" aria-label="Back to top">
    <span class="material-symbols-rounded">arrow_upward</span>
</button>

<script src="script.js"></script>
</body>
</html>